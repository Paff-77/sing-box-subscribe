{
  "log": {
      "disabled": true,
      "level": "debug",
      "timestamp": true
  },
  "experimental": {
      "clash_api": {
          "external_controller": "127.0.0.1:20123",
          "external_ui": "ui",
          "secret": "ID_ijva201x",
          "external_ui_download_url": "https://mirror.ghproxy.com/https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip",
          "external_ui_download_detour": "ğŸ¯ Direct",
          "default_mode": "rule"
      },
      "cache_file": {
          "enabled": true,
          "store_fakeip": true,
          "store_rdrc": true
      }
  },
  "dns": {
      "fakeip": {
          "enabled": true,
          "inet4_range": "198.18.0.0/15",
          "inet6_range": "fc00::/18"
      },
      "servers": [{
              "tag": "google",
              "address": "tls://8.8.8.8",
              "detour": "ğŸš€ NodeSelect"
          }, {
              "tag": "local",
              "address": "https://223.5.5.5/dns-query",
              "detour": "ğŸ¯ Direct"
          }, {
              "tag": "fakeip",
              "address": "fakeip"
          }, {
              "tag": "ğŸš« Block",
              "address": "rcode://success"
          }
      ],
      "rules": [{
              "rule_set": "AWAvenue-Ads",
              "server": "ğŸš« Block"
          }, {
              "outbound": "any",
              "server": "local"
          }, {
              "clash_mode": "direct",
              "server": "local"
          }, {
              "clash_mode": "ğŸŒ Global",
              "server": "google"
          }, {
              "query_type": ["A", "AAAA"],
              "rule_set": "geosite-cn",
              "server": "fakeip"
          }, {
              "rule_set": "geosite-cn",
              "server": "local"
          }, {
              "type": "logical",
              "mode": "and",
              "rules": [{
                      "rule_set": "geosite-geolocation-!cn",
                      "invert": true
                  }, {
                      "rule_set": "geoip-cn"
                  }
              ],
              "server": "google",
              "client_subnet": "114.114.114.114/24"
          }, {
              "query_type": ["A", "AAAA"],
              "server": "fakeip"
          }
      ],
      "independent_cache": true,
      "strategy": "prefer_ipv4"
  },
  "inbounds": [{
          "type": "tun",
          "tag": "tun-in",
          "interface_name": "tun",
          "stack": "system",
          "inet4_address": "172.19.0.1/30",
          "auto_route": true,
          "strict_route": false,
          "sniff": true,
          "sniff_override_destination": true
      }, {
          "type": "mixed",
          "tag": "mixed-in",
          "listen": "::",
          "listen_port": 7890,
          "sniff": true,
          "sniff_override_destination": true
      }
  ],
  "outbounds": [{
          "type": "selector",
          "tag": "ğŸš€ NodeSelect",
          "outbounds": ["ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "direct"]
      }, {
          "type": "selector",
          "tag": "ğŸ‘‹ ManualSelect",
          "outbounds": ["{all}"]
      }, {
          "tag": "ğŸ‡­ğŸ‡° HongKong",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "include",
                  "keywords": ["ğŸ‡­ğŸ‡°|HK|hk|é¦™æ¸¯|æ¸¯|HongKong"]
              }
          ]
      }, {
          "tag": "ğŸ‡¹ğŸ‡¼ TaiWan",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "include",
                  "keywords": ["ğŸ‡¹ğŸ‡¼|TW|tw|å°æ¹¾|è‡ºç£|å°|Taiwan"]
              }
          ]
      }, {
          "tag": "ğŸ‡¸ğŸ‡¬ Singapore",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "include",
                  "keywords": ["ğŸ‡¸ğŸ‡¬|SG|sg|æ–°åŠ å¡|ç‹®|Singapore"]
              }
          ]
      }, {
          "tag": "ğŸ‡¯ğŸ‡µ Japan",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "include",
                  "keywords": ["ğŸ‡¯ğŸ‡µ|JP|jp|æ—¥æœ¬|æ—¥|Japan"]
              }
          ]
      }, {
          "tag": "ğŸ‡ºğŸ‡¸ America",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "include",
                  "keywords": ["ğŸ‡ºğŸ‡¸|US|us|ç¾å›½|ç¾|United States"]
              }
          ]
      }, {
          "tag": "ğŸŒ OtherRegions",
          "type": "selector",
          "outbounds": [
              "{all}"
          ],
          "filter": [{
                  "action": "exclude",
                  "keywords": ["ğŸ‡­ğŸ‡°|HK|hk|é¦™æ¸¯|é¦™|ğŸ‡¹ğŸ‡¼|TW|tw|å°æ¹¾|å°|ğŸ‡¸ğŸ‡¬|SG|sg|æ–°åŠ å¡|ç‹®|ğŸ‡¯ğŸ‡µ|JP|jp|æ—¥æœ¬|æ—¥|ğŸ‡ºğŸ‡¸|US|us|ç¾å›½|ç¾"]
              }
          ]
      },  {
          "type": "selector",
          "tag": "ğŸ¤– GlobalAI",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "ğŸ Apple",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "âœˆï¸ TelegramDC5",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "âœˆï¸ TelegramDC1",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "âœˆï¸ TelegramDC4",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "ğŸ“º BiliBili",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "ğŸ® Steam",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "â˜ï¸ OneDrive",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "selector",
          "tag": "ğŸŸ FinalProxy",
          "outbounds": ["ğŸš€ NodeSelect", "ğŸ‡­ğŸ‡° HongKong", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States", "ğŸŒ OtherRegions", "ğŸ‘‹ ManualSelect", "âœ… AutoSelect", "direct"]
      }, {
          "type": "urltest",
          "tag": "âœ… AutoSelect",
          "outbounds": ["{all}"],
          "url": "https://cp.cloudflare.com",
          "interval": "5m",
          "tolerance": 2
      }, {
          "type": "direct",
          "tag": "ğŸ¯ Direct"
      }
  ],
  "route": {
      "rule_set": [{
              "type": "remote",
              "tag": "AWAvenue-Ads",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/Paff-77/sing-box-easylist/raw/refs/heads/output/AWAvenue-Ads-Rule.srs",
              "download_detour": "direct",
              "update_interval": "10m"
          }, {
              "type": "remote",
              "tag": "geosite-category-ai-chat-!cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-category-ai-chat-!cn.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-apple",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-apple.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-apple-cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-apple@cn.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-bilibili",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-bilibili.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-steam",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-steam.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-steam-cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-steam@cn.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-onedrive",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-onedrive.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-geolocation-!cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-geolocation-!cn.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geosite-cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geosite/raw/refs/heads/rule-set/geosite-cn.srs",
              "download_detour": "direct"
          }, {
              "type": "remote",
              "tag": "geoip-cn",
              "format": "binary",
              "url": "https://gh.zakozako.com/https://github.com/SagerNet/sing-geoip/raw/refs/heads/rule-set/geoip-cn.srs",
              "download_detour": "direct"
          }
      ],
      "rules": [{
              "protocol": "udp",
              "port": 443,
              "ip_is_private": false,
              "rule_set": ["geosite-cn"],
              "invert": true,
                "action": "reject"
          }, {
              "protocol": "udp",
              "port": 443,
              "geoip": "cn",
              "invert": true,
                "action": "reject"
          }, {
              "rule_set": ["AWAvenue-Ads"],
                "action": "reject"
          }, {
              "rule_set": ["geosite-bilibili"],
              "outbound": "ğŸ“º BiliBili"
          }, {
              "rule_set": ["geosite-category-ai-chat-!cn"],
              "outbound": "ğŸ¤– GlobalAI"
          }, {
              "rule_set": ["geosite-apple", "geosite-apple-cn"],
              "outbound": "ğŸ Apple"
          }, {
              "ip_cidr": [
                  "91.108.16.0/21",
                  "91.108.56.0/23",
                  "149.154.168.0/22",
                  "2001:b28:f23c::/48",
                  "2001:b28:f23f::/48"
              ],
              "outbound": "âœˆï¸ TelegramDC5"
          }, {
              "ip_cidr": [
                  "91.108.12.0/22",
                  "149.154.172.0/22",
                  "2001:b28:f23d::/48"
              ],
              "outbound": "âœˆï¸ TelegramDC1"
          }, {
              "ip_cidr": [
                  "5.28.192.0/18",
                  "91.105.192.0/23",
                  "91.108.4.0/22",
                  "91.108.8.0/22",
                  "91.108.56.0/22",
                  "95.161.64.0/20",
                  "109.239.140.0/24",
                  "149.154.160.0/21",
                  "185.76.151.0/24",
                  "2001:67c:4e8::/48",
                  "2a0a:f280:203::/48"
              ],
              "outbound": "âœˆï¸ TelegramDC4"
          }, {
              "rule_set": ["geosite-steam-cn"],
              "outbound": "direct"
          }, {
              "rule_set": ["geosite-steam"],
              "outbound": "ğŸ® Steam"
          }, {
              "rule_set": ["geosite-onedrive"],
              "outbound": "â˜ï¸ OneDrive"
          }, {
              "rule_set": ["geosite-geolocation-!cn"],
              "outbound": "ğŸŸ FinalProxy"
          }, {
              "rule_set": ["geosite-cn"],
              "outbound": "direct"
          }, {
              "rule_set": ["geoip-cn"],
              "outbound": "direct"
          }, {
              "ip_cidr": ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "100.64.0.0/10", "127.0.0.0/8"],
              "outbound": "direct"
          }
      ],
      "auto_detect_interface": true
  },
  "ntp": {
      "enabled": true,
      "server": "time.apple.com",
      "server_port": 123,
      "interval": "30m"
  }
}
